---
import Nav from "../components/nav.astro";
import Footer from "../components/footer.astro";
import { getDict } from "../i18n";
import { site } from "../config/site";

interface Props {
    title: string;
    lang?: string;
}

const { title, lang = "en" } = Astro.props as Props;
const t = getDict(lang as "en" | "es");
---

<!doctype html>
<html lang={lang}>
    <head>
        <meta charset="UTF-8" />
    <meta name="description" content={site.description} />
    <meta name="keywords" content={site.keywords?.join(', ')} />
    <meta name="robots" content="index,follow" />
    <meta name="theme-color" content="#101010" />
    <meta name="color-scheme" content="dark light" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" type="image/png" href={import.meta.env.BASE_URL + 'favicon.png'} />
        <link rel="icon" type="image/svg+xml" href={import.meta.env.BASE_URL + 'favicon.svg'} />
        <link rel="apple-touch-icon" sizes="180x180" href={import.meta.env.BASE_URL + 'favicon.png'} />
        <link rel="mask-icon" href={import.meta.env.BASE_URL + 'favicon.svg'} color="#a476ff" />
        <meta property="og:title" content={site.name} />
        <meta property="og:description" content={site.tagline} />
        <meta property="og:image" content={site.ogImage.startsWith("http") ? site.ogImage : import.meta.env.BASE_URL + site.ogImage.replace(/^\//, "")} />
        <meta property="og:url" content={site.url} />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content={lang === 'es' ? 'es_ES' : 'en_US'} />
    <meta property="og:updated_time" content={new Date().toISOString()} />
        <meta property="og:site_name" content={`${site.name} Portfolio`} />
    <link rel="canonical" href={site.url} />
    <link rel="alternate" hreflang="en" href={site.url} />
    <link rel="alternate" hreflang="es" href={site.url + 'es/'} />
    <link rel="alternate" hreflang="x-default" href={site.url} />
    <link rel="manifest" href={import.meta.env.BASE_URL + 'site.webmanifest'} />

        <title>{title}</title>
        <script type="application/ld+json" is:inline>{JSON.stringify({
            '@context': 'https://schema.org',
            '@type': 'Person',
            name: site.name,
            description: site.description,
            url: site.url,
            email: site.author?.email,
            sameAs: [site.social?.github, site.social?.behance].filter(Boolean)
        })}</script>
        <script type="application/ld+json" is:inline>{JSON.stringify({
            '@context': 'https://schema.org',
            '@type': 'WebSite',
            name: site.name + ' Portfolio',
            url: site.url,
            inLanguage: lang
        })}</script>
    </head>
    <body class="bg-[--background] sm:px-28 lg:px-20 px-9">
        <Nav lang={lang} labels={t.nav} />
        <slot />
        <Footer rights={t.footer.rights} builtWith={t.footer.builtWith} styledWith={t.footer.styledWith} deployedOn={t.footer.deployedOn} />
    </body>
</html>

<style is:global>
    @import url("https://fonts.cdnfonts.com/css/montserrat");

    :root {
        --background: #101010;
        --sec: #a476ff;
        --white: #dfdfdf;
        --white-icon: #f3f3f398;
        --white-icon-tr: #f3f3f310;
    }

    * {
        font-family:
            "Montserrat",
            -apple-system,
            system-ui,
            sans-serif;
        box-sizing: border-box;
        padding: 0;
        margin: 0;
    }

    *::selection {
        background-color: var(--sec);
        color: var(--background);
    }

    /* Scrollbar styles */

    ::-webkit-scrollbar {
        width: 15px;
    }

    ::-webkit-scrollbar-track {
        background: var(--container);
        border-radius: 30px;
    }

    ::-webkit-scrollbar-thumb {
        background: var(--background);
        border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--pink);
    }

    /* Scrollbar styles for Firefox */
    * {
        scrollbar-width: thin;
        scrollbar-color: var(--line) var(--container);
    }

    /* Utility: hide scrollbars (used in modal slider track) */
    .no-scrollbar {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
    }
    .no-scrollbar::-webkit-scrollbar {
        display: none; /* Chrome, Safari */
        width: 0;
        height: 0;
    }
</style>
